<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drag and Drop</title>
    <link rel="stylesheet" href="./drag_and_drop.css">


    <!-- fontawesome -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
			integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
			crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
   
    <!-- Resourses
        Vid: part 1  https://www.youtube.com/watch?v=SxmTvpU260Y
This is the main  2 https://www.youtube.com/watch?v=GXMNfstLBOI&t=242s 
http://www.developphp.com/video/JavaScript/File-Upload-Progress-Bar-Meter-Tutorial-Ajax-PHP
https://stackoverflow.com/questions/33439030/how-to-grab-data-using-fetch-api-post-method-in-php
w3: https://www.w3schools.com/jsref/event_ondrop.asp
-->





<h1>File Drop Zone</h1>
<div class="drop_zone" ondrop="drag_drop(event)" ondragover="return false">
    
    <p class='plusSign'>Drag and drop files in here or browse files below</p>
    <i class="fas fa-cloud-upload-alt"></i>

    <form action='./server.php' method='post' enctype='multipart/form-data'>
        
    <input  type='file' name='file1' >
    <input type='button' value="Upload File" onclick='addFile()'>
</form>
</div>




<script>
   




    function addFile() {
      
         let file = document.querySelector('input[type=file]').files[0];
         
          alert(file.name+" | "+file.size+" | "+file.type);
         alert(file.name);
         
 
        let formData = new FormData();
        formData.append('thefile', file)
    
    fetch('http://127.0.0.1/fetchAPI/server.php',  { method: 'POST', body: formData })
    
    
    }





    function drag_drop(e) {
        e.preventDefault();
        console.log('dropped')
        let file = e.dataTransfer.files[0];

        alert(file.name+" | "+file.size+" | "+file.type);
        alert(file.name);

        let formData = new FormData();
        formData.append('thefile', file)
            
    fetch('http://127.0.0.1/fetchAPI/server.php',  { method: 'POST', body: formData })
    
    
    }
    
    </script>




</body>
</html>